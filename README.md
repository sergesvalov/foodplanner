# üìÖ FoodPlanner

**FoodPlanner** ‚Äî —ç—Ç–æ full-stack –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ø–∏—Ç–∞–Ω–∏—è, —É—á–µ—Ç–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–¥—É–∫—Ç–æ–≤, –ø–æ–¥—Å—á–µ—Ç–∞ –∫–∞–ª–æ—Ä–∏–π –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–ø–∏—Å–∫–∞ –ø–æ–∫—É–ø–æ–∫ —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π Telegram.

---

## üèó –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–µ–∫—Ç —Ä–∞–∑–¥–µ–ª–µ–Ω –Ω–∞ Backend (API) –∏ Frontend (UI). –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞.

### üìÇ Backend (`/backend`)
–ù–∞–ø–∏—Å–∞–Ω –Ω–∞ **Python (FastAPI)** + **SQLAlchemy** (SQLite).

* **`main.py`**: –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è `FastAPI`, –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ CORS –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ä–æ—É—Ç–µ—Ä–æ–≤.
* **`database.py`**: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ SQLite (`foodplanner.db`).
* **`models.py`**: SQLAlchemy –º–æ–¥–µ–ª–∏ (—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î).
* **`schemas.py`**: Pydantic —Å—Ö–µ–º—ã (–≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö API).
* **`dependencies.py`**: –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (DI), –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏ –ë–î (`get_db`).
* **`routers/`**: –ú–æ–¥—É–ª–∏ —Å —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º–∏:
    * `products.py`: CRUD –¥–ª—è –ø—Ä–æ–¥—É–∫—Ç–æ–≤ + JSON Import/Export.
    * `recipes.py`: CRUD –¥–ª—è —Ä–µ—Ü–µ–ø—Ç–æ–≤ + JSON Import/Export.
    * `plan.py`: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º –Ω–∞ –Ω–µ–¥–µ–ª—é.
    * `shopping_list.py`: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ø–∏—Å–∫–∞ –ø–æ–∫—É–ø–æ–∫ –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤ Telegram.
    * `admin.py`: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–æ–∫–µ–Ω–æ–≤ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π Telegram.

### üìÇ Frontend (`/frontend`)
–ù–∞–ø–∏—Å–∞–Ω –Ω–∞ **React (Vite)** + **Tailwind CSS**.

* **`src/App.jsx`**: –†–æ—É—Ç–∏–Ω–≥ (`react-router-dom`).
* **`src/components/`**:
    * `Navbar.jsx`: –ù–∞–≤–∏–≥–∞—Ü–∏—è –∏ –º–µ–Ω—é.
    * `WeeklyGrid.jsx`: –°–µ—Ç–∫–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è (Drag & Drop), –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏—Ç–æ–≥–æ–≤ –ø–æ –¥–Ω—è–º (—Ü–µ–Ω–∞/–∫–∞–ª–æ—Ä–∏–∏).
    * `DraggableRecipeList.jsx`: –°–∞–π–¥–±–∞—Ä —Å —Ä–µ—Ü–µ–ø—Ç–∞–º–∏ –¥–ª—è –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è.
    * `RecipeBuilder.jsx`: –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Ä–µ—Ü–µ–ø—Ç–∞ —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º –ø–æ–¥—Å—á–µ—Ç–æ–º –∫–∞–ª–æ—Ä–∏–π/—Ü–µ–Ω—ã.
    * `ProductSelect.jsx`: –í—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ —Å –ø–æ–∏—Å–∫–æ–º –ø—Ä–æ–¥—É–∫—Ç–æ–≤.
* **`src/pages/`**:
    * `HomePage.jsx`: –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (–°–µ—Ç–∫–∞ + –°–ø–∏—Å–æ–∫ —Ä–µ—Ü–µ–ø—Ç–æ–≤).
    * `TodayPage.jsx`: –î–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä –º–µ–Ω—é –Ω–∞ —Å–µ–≥–æ–¥–Ω—è.
    * `RecipesPage.jsx`: –ö–∞—Ç–∞–ª–æ–≥ —Ä–µ—Ü–µ–ø—Ç–æ–≤ (CRUD).
    * `ProductsPage.jsx`: –ö–∞—Ç–∞–ª–æ–≥ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ (CRUD).
    * `ShoppingListPage.jsx`: –°–ø–∏—Å–æ–∫ –ø–æ–∫—É–ø–æ–∫ + –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤ Telegram.
    * `AdminPage.jsx`: –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è, –±—ç–∫–∞–ø—ã, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞.
    * `AboutPage.jsx`: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤–µ—Ä—Å–∏–∏ –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–µ.

---

## üß† –õ–æ–≥–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏ –í—ã—á–∏—Å–ª–µ–Ω–∏—è

### 1. –ü—Ä–æ–¥—É–∫—Ç—ã (Products)
–ë–∞–∑–æ–≤–∞—è –µ–¥–∏–Ω–∏—Ü–∞. –•—Ä–∞–Ω–∏—Ç —Å–ø—Ä–∞–≤–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.
* **`price`**: –¶–µ–Ω–∞ –∑–∞ —É–ø–∞–∫–æ–≤–∫—É.
* **`amount`**: –í–µ—Å —É–ø–∞–∫–æ–≤–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 1000 –≥, 900 –º–ª, 10 —à—Ç).
* **`calories`**: –ö–∞–ª–æ—Ä–∏–π–Ω–æ—Å—Ç—å **–Ω–∞ 100 –≥—Ä–∞–º–º/–º–ª** (—Å—Ç–∞–Ω–¥–∞—Ä—Ç –ø–∏—â–µ–≤–æ–π –∏–Ω–¥—É—Å—Ç—Ä–∏–∏).

### 2. –†–µ—Ü–µ–ø—Ç—ã (Recipes)
–°–æ—Å—Ç–æ–∏—Ç –∏–∑ —Å–ø–∏—Å–∫–∞ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤.
* **–ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç**: –°—Å—ã–ª–∫–∞ –Ω–∞ `Product` + `quantity` (–≤–µ—Å, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –≤ —Ä–µ—Ü–µ–ø—Ç–µ).
* **–†–∞—Å—á–µ—Ç —Ü–µ–Ω—ã**:
    $$\text{Cost} = \sum \left( \frac{\text{Product Price}}{\text{Product Amount}} \times \text{Ingredient Qty} \right)$$
* **–†–∞—Å—á–µ—Ç –∫–∞–ª–æ—Ä–∏–π**:
    $$\text{Calories} = \sum \left( \frac{\text{Product Calories (per 100g)}}{100} \times \text{Ingredient Qty} \right)$$

### 3. –ü–ª–∞–Ω –Ω–∞ –Ω–µ–¥–µ–ª—é (WeeklyPlan)
–°–≤—è–∑—ã–≤–∞–µ—Ç: `–î–µ–Ω—å –Ω–µ–¥–µ–ª–∏` + `–¢–∏–ø –ø—Ä–∏–µ–º–∞ –ø–∏—â–∏` (–ó–∞–≤—Ç—Ä–∞–∫, –û–±–µ–¥...) + `–†–µ—Ü–µ–ø—Ç`.
* –ü–æ–∑–≤–æ–ª—è–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –±–ª—é–¥ –≤ –æ–¥–∏–Ω —Å–ª–æ—Ç.
* –ï—Å–ª–∏ —Ä–µ—Ü–µ–ø—Ç —É–¥–∞–ª–µ–Ω, –ø–ª–∞–Ω –Ω–µ –¥–æ–ª–∂–µ–Ω –ø–∞–¥–∞—Ç—å (–Ω—É–∂–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ null).

### 4. –°–ø–∏—Å–æ–∫ –ø–æ–∫—É–ø–æ–∫ (Shopping List)
–ê–≥—Ä–µ–≥–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ –ø–ª–∞–Ω–∞:
1.  –ë–µ—Ä–µ—Ç –≤—Å–µ –±–ª—é–¥–∞ –∏–∑ –ø–ª–∞–Ω–∞.
2.  –†–∞–∑–±–∏—Ä–∞–µ—Ç –∏—Ö –Ω–∞ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã.
3.  –°—É–º–º–∏—Ä—É–µ—Ç `quantity` –¥–ª—è –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö `product_id`.
4.  –í—ã–≤–æ–¥–∏—Ç: –ò–º—è, –û–±—â–∏–π –≤–µ—Å, –°–∫–æ–ª—å–∫–æ —É–ø–∞–∫–æ–≤–æ–∫ –∫—É–ø–∏—Ç—å, –ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å.

---

## ü§ñ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### Telegram Bot
* **–ù–∞—Å—Ç—Ä–æ–π–∫–∞**: –¢–æ–∫–µ–Ω –±–æ—Ç–∞ –∏ Chat ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ë–î (—Ç–∞–±–ª–∏—Ü—ã `app_settings`, `telegram_users`).
* **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª**: –û—Ç–ø—Ä–∞–≤–∫–∞ —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ —Å–ø–∏—Å–∫–∞ –ø–æ–∫—É–ø–æ–∫ –≤—ã–±—Ä–∞–Ω–Ω–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.
* **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**: –ß–µ—Ä–µ–∑ Admin Panel (–ø–∞—Ä–æ–ª—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `123`).

---

## üíæ –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
* –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –º–µ—Ö–∞–Ω–∏–∑–º JSON Export/Import –¥–ª—è –ü—Ä–æ–¥—É–∫—Ç–æ–≤ –∏ –†–µ—Ü–µ–ø—Ç–æ–≤.
* –§–∞–π–ª—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –≤ `/app/data/`.
* –ü–æ–∑–≤–æ–ª—è–µ—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–∞–∑—É –∏–ª–∏ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –¥–∞–Ω–Ω—ã–µ –º–µ–∂–¥—É —Å—Ä–µ–¥–∞–º–∏.

---

## üõ† –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫
* **Language**: Python 3.9+ / JavaScript (ES6+)
* **Frameworks**: FastAPI / React 18
* **DB**: SQLite (via SQLAlchemy ORM)
* **Styling**: Tailwind CSS
* **External Libs**: `requests` (–¥–ª—è Telegram API)

